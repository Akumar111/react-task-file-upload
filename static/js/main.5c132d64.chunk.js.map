{"version":3,"sources":["components/Message.js","components/Progress.js","components/FileUpload.js","App.js","index.js"],"names":["Message","msg","className","role","type","data-dismiss","aria-label","aria-hidden","Progress","percentage","style","width","FileUpload","useState","file","setFile","filename","setFilename","uploadedFile","setUploadedFile","message","setMessage","uploadPercentage","setUploadPercentage","onSubmit","e","a","preventDefault","formData","FormData","append","axios","post","headers","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","setTimeout","res","data","fileName","filePath","response","status","id","onChange","target","files","name","htmlFor","value","src","alt","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wMAuBeA,EApBC,SAAC,GAAa,IAAXC,EAAU,EAAVA,IACf,OACI,sBAAKC,UAAU,+CAA+CC,KAAK,QAAnE,UACKF,EACD,wBACIG,KAAK,SACLF,UAAU,QACVG,eAAa,QACbC,aAAW,QAJf,SAMI,sBAAMC,cAAY,OAAlB,wBCQDC,EAlBE,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAChB,OACI,qBAAKP,UAAU,WAAf,SACI,sBACIA,UAAU,+CACVC,KAAK,cACLO,MAAO,CAAEC,MAAM,GAAD,OAAKF,EAAL,MAHlB,UAKKA,EALL,U,iBCmFGG,EApFI,WAAO,IAAD,EACGC,mBAAS,IADZ,mBACdC,EADc,KACRC,EADQ,OAEWF,mBAAS,eAFpB,mBAEdG,EAFc,KAEJC,EAFI,OAGmBJ,mBAAS,IAH5B,mBAGdK,EAHc,KAGAC,EAHA,OAISN,mBAAS,IAJlB,mBAIdO,EAJc,KAILC,EAJK,OAK2BR,mBAAS,GALpC,mBAKdS,EALc,KAKIC,EALJ,KAYfC,EAAQ,uCAAG,WAAMC,GAAN,uBAAAC,EAAA,6DACbD,EAAEE,kBACIC,EAAW,IAAIC,UACZC,OAAO,OAAQhB,GAHX,kBAMSiB,IAAMC,KAAK,UAAWJ,EAAU,CAC9CK,QAAS,CACL,eAAgB,uBAEpBC,iBAAkB,SAAAC,GACdZ,EACIa,SACIC,KAAKC,MAA8B,IAAvBH,EAAcI,OAAgBJ,EAAcK,SAKhEC,YAAW,kBAAMlB,EAAoB,KAAI,QAlBxC,OAMHmB,EANG,SAsBsBA,EAAIC,KAA3BC,EAtBC,EAsBDA,SAAUC,EAtBT,EAsBSA,SAElB1B,EAAgB,CAAEyB,WAAUC,aAE5BxB,EAAW,iBA1BF,kDA4BmB,MAAxB,KAAIyB,SAASC,OACb1B,EAAW,uCAEXA,EAAW,KAAIyB,SAASH,KAAK1C,KA/BxB,0DAAH,sDAoCd,OACI,eAAC,WAAD,WACKmB,EAAU,cAAC,EAAD,CAASnB,IAAKmB,IAAc,KACvC,uBAAMI,SAAUA,EAAhB,UACI,sBAAKtB,UAAU,mBAAf,UACI,uBACIE,KAAK,OACLF,UAAU,oBACV8C,GAAG,aACHC,SAlDH,SAAAxB,GACbV,EAAQU,EAAEyB,OAAOC,MAAM,IACvBlC,EAAYQ,EAAEyB,OAAOC,MAAM,GAAGC,SAkDlB,uBAAOlD,UAAU,oBAAoBmD,QAAQ,aAA7C,SACKrC,OAIT,cAAC,EAAD,CAAUP,WAAYa,IAEtB,uBACIlB,KAAK,SACLkD,MAAM,SACNpD,UAAU,sCAGjBgB,EACG,qBAAKhB,UAAU,WAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,oBAAIA,UAAU,cAAd,SAA6BgB,EAAa0B,WAC1C,qBAAKlC,MAAO,CAAEC,MAAO,QAAU4C,IAAKrC,EAAa2B,SAAUW,IAAI,UAGvE,SCtEDC,G,MAVH,kBACV,sBAAKvD,UAAU,iBAAf,UACE,qBAAIA,UAAU,6BAAd,UACE,mBAAGA,UAAU,iBADf,wBAIA,cAAC,EAAD,SCLJwD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.5c132d64.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Message = ({ msg }) => {\r\n    return (\r\n        <div className='alert alert-info alert-dismissible fade show' role='alert'>\r\n            {msg}\r\n            <button\r\n                type='button'\r\n                className='close'\r\n                data-dismiss='alert'\r\n                aria-label='Close'\r\n            >\r\n                <span aria-hidden='true'>&times;</span>\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nMessage.propTypes = {\r\n    msg: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Message;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Progress = ({ percentage }) => {\r\n    return (\r\n        <div className='progress'>\r\n            <div\r\n                className='progress-bar progress-bar-striped bg-success'\r\n                role='progressbar'\r\n                style={{ width: `${percentage}%` }}\r\n            >\r\n                {percentage}%\r\n      </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nProgress.propTypes = {\r\n    percentage: PropTypes.number.isRequired\r\n};\r\n\r\nexport default Progress;","import React, { Fragment, useState } from 'react';\r\nimport Message from './Message';\r\nimport Progress from './Progress';\r\nimport axios from 'axios';\r\n\r\nconst FileUpload = () => {\r\n    const [file, setFile] = useState('');\r\n    const [filename, setFilename] = useState('Choose File');\r\n    const [uploadedFile, setUploadedFile] = useState({});\r\n    const [message, setMessage] = useState('');\r\n    const [uploadPercentage, setUploadPercentage] = useState(0);\r\n\r\n    const onChange = e => {\r\n        setFile(e.target.files[0]);\r\n        setFilename(e.target.files[0].name);\r\n    };\r\n\r\n    const onSubmit = async e => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n\r\n        try {\r\n            const res = await axios.post('/upload', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                },\r\n                onUploadProgress: progressEvent => {\r\n                    setUploadPercentage(\r\n                        parseInt(\r\n                            Math.round((progressEvent.loaded * 100) / progressEvent.total)\r\n                        )\r\n                    );\r\n\r\n                    // Clear percentage\r\n                    setTimeout(() => setUploadPercentage(0), 10000);\r\n                }\r\n            });\r\n\r\n            const { fileName, filePath } = res.data;\r\n\r\n            setUploadedFile({ fileName, filePath });\r\n\r\n            setMessage('File Uploaded');\r\n        } catch (err) {\r\n            if (err.response.status === 500) {\r\n                setMessage('There was a problem with the server');\r\n            } else {\r\n                setMessage(err.response.data.msg);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            {message ? <Message msg={message} /> : null}\r\n            <form onSubmit={onSubmit}>\r\n                <div className='custom-file mb-4'>\r\n                    <input\r\n                        type='file'\r\n                        className='custom-file-input'\r\n                        id='customFile'\r\n                        onChange={onChange}\r\n                    />\r\n                    <label className='custom-file-label' htmlFor='customFile'>\r\n                        {filename}\r\n                    </label>\r\n                </div>\r\n\r\n                <Progress percentage={uploadPercentage} />\r\n\r\n                <input\r\n                    type='submit'\r\n                    value='Upload'\r\n                    className='btn btn-primary btn-block mt-4'\r\n                />\r\n            </form>\r\n            {uploadedFile ? (\r\n                <div className='row mt-5'>\r\n                    <div className='col-md-6 m-auto'>\r\n                        <h3 className='text-center'>{uploadedFile.fileName}</h3>\r\n                        <img style={{ width: '100%' }} src={uploadedFile.filePath} alt='' />\r\n                    </div>\r\n                </div>\r\n            ) : null}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default FileUpload;","import React from 'react';\nimport FileUpload from './components/FileUpload';\nimport './App.css';\n\nconst App = () => (\n  <div className='container mt-4'>\n    <h4 className='display-4 text-center mb-4'>\n      <i className='fab fa-react' /> React File Upload\n    </h4>\n\n    <FileUpload />\n  </div>\n);\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}